import { Injectable } from '@angular/core';
import { CompanyEnum } from 'webquote-ui-model';
import { Steps } from '@core';
import { TranslateService } from '@ngx-translate/core';
import { BadgeFigureModel } from '@webquote-ui/ui/differentiators';

@Injectable({
    providedIn: 'root'
})
export class UtilDifferentiatorsService {
    constructor(private _translateService: TranslateService) {}

    getDifferentiatorItems(
        isMobile: boolean,
        lang: string,
        theme: CompanyEnum,
        step: Steps
    ): Array<BadgeFigureModel> {
        if ([Steps.OFFER, Steps.CHECKPOINT].includes(step)) {
            const imgPath = 'assets/images/' + theme + '/svg/key-differentiators/';

            const differentiators: { [key in CompanyEnum]: { [key: string]: any } } = {
                [CompanyEnum.BELAIR]: {
                    [Steps.CHECKPOINT]: [
                        {
                            url: `${imgPath}30minutes.png`,
                            name: 'tracking',
                            caption: this.getTranslationByKey(
                                'checkpoint.offer.key.differentiators.1.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}proofInsurance.png`,
                            name: 'experience',
                            caption: this.getTranslationByKey(
                                'checkpoint.offer.key.differentiators.2.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}sm.png`,
                            name: 'claims',
                            caption: this.getTranslationByKey(
                                'checkpoint.offer.key.differentiators.3.caption'
                            ),
                            size: 90
                        }
                    ],
                    [Steps.OFFER]: [
                        {
                            url: `${imgPath}www.png`,
                            name: 'tracking',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.1.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}60years_${lang}.png`,
                            name: 'experience',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.2.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}247.png`,
                            name: 'claims',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.3.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}1000_${lang}.png`,
                            name: 'refund',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.4.caption'
                            ),
                            size: 90
                        }
                    ]
                },
                [CompanyEnum.INTACT]: {
                    [Steps.OFFER]: [
                        {
                            url: `${imgPath}claims-intact.svg`,
                            name: 'tracking',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.1.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}60-year-experience-intact.svg`,
                            name: 'experience',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.2.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}24-7-communication-intact.svg`,
                            name: 'claims',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.3.caption'
                            ),
                            size: 90
                        },
                        {
                            url: `${imgPath}call-center-intact.svg`,
                            name: 'refund',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.4.caption'
                            ),
                            size: 90
                        }
                    ]
                },
                [CompanyEnum.BNC]: {
                    [Steps.OFFER]: [
                        {
                            url: `${imgPath}bnc-diff-arrow.svg`,
                            name: 'tracking',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.1.caption'
                            ),
                            size: 52
                        },
                        {
                            url: `${imgPath}bnc-diff-call.svg`,
                            name: 'claims',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.3.caption'
                            ),
                            size: 52
                        },
                        {
                            url: `${imgPath}bnc-diff-app-personalized.svg`,
                            name: 'app-personalized',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.2.caption'
                            ),
                            size: 68
                        },
                        {
                            url: `${imgPath}bnc-diff-clock.svg`,
                            name: 'refund',
                            caption: this.getTranslationByKey(
                                'offer.key.differentiators.4.caption'
                            ),
                            size: 52
                        }
                    ]
                }
            };
            return differentiators[theme][step];
        }
        return [];
    }

    getTranslationByKey(labelKey: string): string {
        let labelValue: string;
        this._translateService.get(labelKey).subscribe((_labelValue: string) => {
            labelValue = _labelValue;
        });
        return labelValue;
    }
}
